{% extends 'base/echoes_base.html' %}
{% block body %}
<style>
  .detail-section-title {
    font-size: 1.15rem;
    font-weight: 700;
    margin: 1.5rem 0 1rem;
    padding-bottom: 4px;
    border-bottom: 2px solid var(--bs-primary);
  }

  .detail-row {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px dashed var(--bs-border-color);
  }

  .detail-label {
    font-weight: 600;
    color: var(--bs-secondary-color);
  }

  .detail-value {
    text-align: right;
    word-break: break-word;
  }

  /* 説明だけは左寄せ＆折り返し */
  .detail-value-left {
    text-align: left !important;
    white-space: normal !important;
  }

  /* メタ情報は少し弱く */
  .meta .detail-label,
  .meta .detail-value {
    opacity: 0.7;
  }

  /* ダークモード対応 */
  :root[data-bs-theme="dark"] .card {
    background-color: #2a2a2a;
  }
</style>

<div class="container" style="max-width: 700px;">
  <h2 class="mb-4">出演団体の詳細</h2>

  <div class="card mb-4 shadow-sm">
    <div class="card-body">

      <!-- ▼▼ 団体アート写真 ▼▼ -->
      {% if team.file_artpic %}
      <div class="mb-4">
        <p class="fw-bold">{{ team.file_artpic.title }}</p>
        <img src="{{ team.file_artpic.url }}" alt="{{ team.file_artpic.title }}" class="img-fluid rounded">
      </div>
      {% endif %}

      <!-- ▼▼ 団体基礎情報 ▼▼ -->
      <div class="detail-section-title">団体基礎情報</div>

      <div class="detail-row">
        <span class="detail-label">団体名</span>
        <span class="detail-value">{{ team.team_name }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">団体名（カナ）</span>
        <span class="detail-value">{{ team.team_name_kana }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">団体の所属</span>
        <span class="detail-value">{{ team.team_belong }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">団体の説明</span>
        <span class="detail-value">{{ team.team_desc }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">参加人数</span>
        <span class="detail-value">{{ team.team_ninzu }}</span>
      </div>

      <!-- ▼▼ 定刻情報 ▼▼ -->
      <div class="detail-section-title">定刻情報</div>

      <div class="detail-row">
        <span class="detail-label">受付定刻</span>
        <span class="detail-value">{{ team.checkin_pretime_1 }}</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">声出し開始定刻</span>
        <span class="detail-value">{{ team.checkin_koedashi }}</span>
      </div>
      
      <div class="detail-row">
        <span class="detail-label">声出し可能時間</span>
        <span class="detail-value">{{ team.duration_koed }} 分</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">控室到着定刻</span>
        <span class="detail-value">{{ team.checkin_pretime_2 }}</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">リハ時間</span>
        <span class="detail-value">{{ team.duration_reha }} 分</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">出演定刻</span>
        <span class="detail-value">{{ team.onstage_time }} 分</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">出演時間</span>
        <span class="detail-value">{{ team.duration_onst }} 分</span>
      </div>

      <!-- ▼▼ 打刻情報 ▼▼ -->
      <div class="detail-section-title">打刻情報</div>

      <div class="detail-row">
        <span class="detail-label">受付打刻</span>
        <span class="detail-value">
          {% if team.checkin_postime_1 %}
            {{ team.checkin_postime_1 }} ✅
          {% else %}
            <span class="text-muted">未打刻</span>
          {% endif %}
        </span>
      </div>

      <div class="detail-row">
        <span class="detail-label">控室到着打刻</span>
        <span class="detail-value">
          {% if team.checkin_postime_2 %}
            {{ team.checkin_postime_2 }} ✅
          {% else %}
            <span class="text-muted">未打刻</span>
          {% endif %}
        </span>
      </div>

      <div class="detail-row">
        <span class="detail-label">出演打刻</span>
        <span class="detail-value">
          {% if team.onstage_time_acc %}
            {{ team.onstage_time_acc }} ✅
          {% else %}
            <span class="text-muted">未打刻</span>
          {% endif %}
        </span>
      </div>

      <!-- ▼▼ 添付ファイル ▼▼ -->
      <div class="detail-section-title">添付ファイル</div>

      <div class="detail-row">
        <span class="detail-label">アーティスト写真</span>
        {% if team.file_artpic %}
          <span class="detail-value">
            <a href="{{ team.file_artpic.url }}" target="_blank" class="link-primary">開く</a>
          </span>
        {% else %}
          <span class="text-muted">未添付</span>
        {% endif %}
      </div>

      <div class="detail-row">
        <span class="detail-label">応募ファイル</span>
        {% if team.file_form %}
          <span class="detail-value">
            <a href="{{ team.file_form.url }}" target="_blank" class="link-primary">開く</a>
          </span>
        {% else %}
          <span class="text-muted">未添付</span>
        {% endif %}
      </div>

      <div class="detail-row">
        <span class="detail-label">ステージングファイル</span>
        {% if team.file_stage %}
          <span class="detail-value">
            <a href="{{ team.file_stage.url }}" target="_blank" class="link-primary">開く</a>
          </span>
        {% else %}
          <span class="text-muted">未添付</span>
        {% endif %}
      </div>

      
      <!-- ▼▼ 団体代表者情報 ▼▼ -->
      <div class="detail-section-title">代表者情報</div>
      
      <div class="detail-row">
        <span class="detail-label">代表者名（カナ）</span>
        <span class="detail-value">{{ team.team_rep }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">メールアドレス</span>
        <span class="detail-value">{{ team.team_rep_mail }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">電話番号</span>
        <span class="detail-value">{{ team.team_rep_tel }}</span>
      </div>

      <!-- ▼▼ その他情報 ▼▼ -->
      <div class="detail-section-title">その他の情報</div>

      <div class="detail-row">
        <span class="detail-label">使用機材</span>
        <span class="detail-value">{{ team.team_equip }}</span>
      </div>

      <div class="detail-row">
        <span class="detail-label">備考</span>
        <span class="detail-value">{{ team.note }}</span>
      </div>

      <!-- ▼▼ メタデータ ▼▼ -->
      <div class="detail-section-title">メタデータ</div>

      <div class="detail-row meta">
        <span class="detail-label">ID</span>
        <span class="detail-value">{{ team.id }}</span>
      </div>

      <div class="detail-row meta">
        <span class="detail-label">作成日時</span>
        <span class="detail-value">{{ team.created_at }}</span>
      </div>

      <div class="detail-row meta">
        <span class="detail-label">更新日時</span>
        <span class="detail-value">{{ team.updated_at }}</span>
      </div>

    </div>
  </div>

  <!-- 更新ボタン -->
  <a href="{% url 'website_app:team_update' team.id %}"
     class="btn btn-primary w-100">情報修正</a>
</div>

{% endblock %}